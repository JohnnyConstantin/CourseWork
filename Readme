Описание для 8ПР:

На устройстве установлен брокер MQTT Mosquitto Eclipse. Брокер запущен демоном на сокете 192.168.2.228:1883

Скрипт iot.py коннектится к брокеру и публикует на нем топик /we/are/legion/ с сообщениями, сгенерированными эмулятором

Скрипт mosq_reader.py коннектится к брокеру и подписывается на топик /we/are/legion/, после чего полученные сообщения
записывает в локальную бд

Порядок запуска скриптов(при условии, что сервис брокера запущен):

1.mosq_reader.py
2.iot.py

Дальше остается просто проверять файл log.json, который выступает локальной бд.
